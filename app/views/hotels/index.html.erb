<!-- header-mainpage -->
<%= render 'layouts/header' %>

<div class="arrowsup">
  <img src="/assets/icon/arrows.png">
</div>
<div class="container premium">
  <div class="row">
    <h2 class="text-center">Рекомендуем обратить внимание:</h2>
    <h4 class="text-center">Места, проверенные нашими пользователями, которым мы доверяем.</h4>
    <div class="col-md-4" ng-repeat="premium in ranked_hotels | filter: premiumFilter | orderBy: 'rank' | limitTo:10 ">
      <!-- Не работает |orderBy:random ПОЧЕМУ? -->
      <a href="hotels/{{premium.id}}"><div class="premium-main" style="background: {{mycolor}}">
        <h2>{{premium.name}}</h2>
      </div></a>
    </div>
  </div>
</div>

<button type="button" class="morepremium center-block">Больше рекомендаций</button>

<div class="container-fluid">
  <div class="row">
    <div class="leftsidebar col-md-4 col-md-offset-1">
      <div class="pansfilter">
        <h3>Найдите идеальное место:</h3>
        <input type="text" placeholder="Поиск" ng-model="query"></br>
        <div class="choosecity">
          <h3>Город/поселок</h3>
          <label><input type="checkbox" ng-click="includesCity_name('Геническ')"/> Геническ ({{includesCity_name.length}})</label></br>
          <label><input type="checkbox" ng-click="includesCity_name('Генгорка')"/> Генгорка ({{includesCity_name.length}})</label></br>
          <label><input type="checkbox" ng-click="includesCity_name('Счастливцево')"/> Счастливцево ({{includesCity_name.length}})</label></br>
          <label><input type="checkbox" ng-click="includesCity_name('Стрелковое')"/> Стрелковое ({{includesCity_name.length}})</label></br> 
          <!-- ВЕРСИЯ С ВЫДЕЛЕНИЕ АКТИВНОГО ЭЛЕМЕНТА 
          <ul class="{{active}}" ng-click="$event.preventDefault()">
            <label ng-click="includesCity_name('Геническ'); active='genich'" class="genich" /> Геническ ({{includesCity_name.length}})</label></br>
            <label ng-click="includesCity_name('Генгорка'); active='gengorka'" class="gengorka"/> Генгорка ({{includesCity_name.length}})</label></br>
            <label ng-click="includesCity_name('Счастливцево'); active='schast'" class="schast" /> Счастливцево ({{hotels.city_name[1].length}})</label></br>
            <label ng-click="includesCity_name('Стрелковое'); active='strelkovoe'" class="strelkovoe" /> Стрелковое ({{includesCity_name.length}})</label></br> 
          </ul> -->
        </div>
        <div class="price">
          <h3>Стоимость</h3>
          <input type="range" min="0" max="100" data-ng-model="qty" />
          <div class="row">
            <div class="col-md-6">
              <p class="pull-left">0</p>
            </div>
            <div class="col-md-6">
              <p class="pull-right">{{qty}}</p>
            </div>
          </div>
          <p class="sortbyprice" ng-click="sort('price_min')">Отсортировать по цене <i class="glyphicon" ng-class="{
            'glyphicon-chevron-down' : isSortDown('price_min'), 
            'glyphicon-chevron-up' : isSortUp('price_min')
          }"></i></p>
        </div>
        <div class="comfort">
          <h3>Удобства</h3>
          <label class="tv" ng-class="{'tv_one': !toggleClass, 'tv_active': toggleClass}" ng-click="includesHas_tv(true); toggleClass = !toogleClass"><img src="/assets/icon/technology.png"> <span>Телевизор</span> </label>
          <label class="parking" ng-click="includesHas_parking(true)"><img src="/assets/icon/parking.png"> <span>Парковка</span> </label>
          <label class="kitchen" ng-click="includeshas_private_kitchen(true)"><img src="/assets/icon/kitchen.png"> <span>Кухня</span> </label>
          <label class="air" ng-click="includeshas_conditioning(true)"><img src="/assets/icon/conditioning.png"> <span>Кондиционер</span> </label>
          <label class="shower" ng-click="includeshas_shower(true)"><img src="/assets/icon/shower.png"> <span>Душ</span> </label>
          <label class="wi-fi" ng-click="includeshas_wifi(true)"><img src="/assets/icon/wi-fi.png"> <span>Wi-Fi</span> </label>
          <label class="delivery" ng-click="includeshas_transfer(true)"><img src="/assets/icon/delivery.png"> <span>Трансфер</span> </label>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="panslist myfade" ng-repeat="hotel in hotels | filter: {name: query} | filter:citynameFilter | filter:hastvFilter | filter:hasparkingFilter | filter: minpriceFilter | filter: haskitchenFilter | filter: hasairFilter | filter: hasshowerFilter | filter: haswifiFilter | filter: hastransferFilter | orderBy:sortbyprice:reverse">
        <div class="row">
          <div class="col-md-12">
            <p><span><h2><a href="/hotels/{{hotel.id}}">{{hotel.name}}</a></h2></span></p>
            <p><span><h4>{{hotel.city_name}}</h4></span></p>
            {{hotel.price_min}}</br>
            <button type="button" class="btn btn-primary btn-xs" ng-if="hotel.has_tv">TV</button>
            <button type="button" class="btn btn-warning btn-xs" ng-if="hotel.has_parking">Парковка</button>
            <button type="button" class="btn btn-success btn-xs" ng-if="hotel.has_private_kitchen">Кухня</button>
            <button type="button" class="btn btn-info btn-xs" ng-if="hotel.has_conditioning">Кондиционер</button>
            <button type="button" class="btn btn-primary btn-xs" ng-if="hotel.has_private_shower">Душ</button>
            <button type="button" class="btn btn-warning btn-xs" ng-if="hotel.has_wifi">Wi-Fi</button>
            <button type="button" class="btn btn-danger btn-xs" ng-if="hotel.has_transfer">Трансфер</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
