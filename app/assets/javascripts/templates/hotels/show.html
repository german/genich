<title>{{hotel.name}} | Отдыхайте в Украине</title>
<div ng-include="'shared/headernew.html'"></div>
<div class="headimg" ng-style="hotel.albums.length > 0 ? {'background':'url('+hotel.cover_url+')'} : {'background':'url(http://executiveofficeleasing.com/images/PhotoNotAvailable.jpg)'}">
  <div class="container headimg-hotelname">
    <div class="row">
      <div class="col-md-8 col-xs-12">
        <h2>{{hotel.name}}</h2>
      </div>
      <div class="col-md-4 col-xs-12">
        <h3>{{hotel.city_name}}</h3>
      </div>
    </div>
  </div>
</div>

<div class="hotelsbutton">
  <div class="container">
    <div class="row">
      <!-- <div class="col-md-6">
        <h3>Описание жилья</h3>
        <p>{{hotel.description}}</p>
      </div> -->
      <div class="col-md-12 text-center">
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_tv">
          <label><img src="/assets/icon/technology.png"><br><p>Телевизор</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_parking">
          <label><img src="/assets/icon/parking.png"><br><p>Парковка</p> </label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_private_kitchen">
          <label><img src="/assets/icon/kitchen.png"><br><p>Кухня</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_food">
          <label><img src="/assets/icon/food.png"><br><p>Питание</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_fridge">
          <label><img src="/assets/icon/fridge.png"><br><p>Холодильник</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_laundry">
          <label><img src="/assets/icon/laundry.png"><br><p>Стиральная машина</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_kettle">
          <label><img src="/assets/icon/kettle.png"><br><p>Чайник</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_conditioning">
          <label><img src="/assets/icon/conditioning.png"><br><p>Кондиционер</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_private_shower">
          <label><img src="/assets/icon/shower.png"><br><p>Душ</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_wifi">
          <label><img src="/assets/icon/wi-fi.png"><br><p>Wi-Fi</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_transfer">
          <label><img src="/assets/icon/delivery.png"><br><p>Трансфер</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_pool">
          <label><img src="/assets/icon/pool.png"><br><p>Бассейн</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_sunbeds">
          <label><img src="/assets/icon/sunbeds.png"><br><p>Лежаки</p></label>
        </div>
        <div class="col-sm-2 col-xs-6" ng-if="hotel.has_playground">
          <label><img src="/assets/icon/playground.png"><br><p>Детская площадка</p></label>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="infohotel col-md-7 col-xs-12">
      <div class="row">
        <div class="col-md-4"><h5><p>Описание</p></h5></div>
        <div class="col-md-8">
          <div class="col-md-12">
          <pre><h5 ng-text-truncate="hotel.description"
            ng-tt-chars-threshold="250"
            ng-tt-more-label="Далее"
            ng-tt-less-label="Скрыть"></h5></pre>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4"><h5><p>Правила</p></h5></div>
        <div class="col-md-8">
          <div class="col-md-12">
            <pre><h5 ng-text-truncate="hotel.rules"
            ng-tt-chars-threshold="250"
            ng-tt-more-label="Далее"
            ng-tt-less-label="Скрыть">{{hotel.rules}}</h5></pre>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4"><h5><p>Комнаты</p></h5></div>
        <div class="col-md-8">
          <div class="col-md-6">
            <h5>Всего комнат: {{hotel.total_rooms}}</h5>
          </div>
          <div class="col-md-6">
            <h5>Максимальное кол-во человек в номере: {{hotel.people_in_room}}</h5>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4"><h5><p>Цены</p></h5></div>
        <div class="col-md-8">
          <div class="col-md-6">
            <h5>Минимальная цена: {{hotel.price_min}}</h5>
          </div>
          <div class="col-md-6">
            <h5>Максимальная цена: {{hotel.price_max}}</h5>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4"><h5><p>Расстояние до моря</p></h5></div>
        <div class="col-md-8">
          <div class="col-md-12">
            <h5>{{hotel.dist_from_the_sea}} метров</h5>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4"><h5><p>Контакты</p></h5></div>
        <div class="col-md-8">
          <div class="col-md-6">
            <h5>Телефон: {{hotel.phones}}</h5>
          </div>
          <div class="col-md-6">
            <h5>Email: {{hotel.email}}</h5>
          </div>
        </div>
      </div>
      
      <md-button ng-hide="myuser.role == 'own'" type="submit" ng-click="fav(hotel_id)" class="md-raised md-primary" style="margin-left:-15px">
        Добавить в избранное
      </md-button>
      
      <div class="row">
        <div class="col-md-12">
          <div ng-if="hotel.albums">
            
            <div class="row">
              <div ng-repeat="album in hotel.albums | limitTo:1">
                <!-- <img ng-if="album.cover" ng-src="{{album.cover.photo.thumb.url}}" alt="{{album.name}}"/> -->
                <h3 ng-if="myuser.id != hotel.user_id || !myuser">{{album.name}}</h3>
                <div ng-if="myuser.id === hotel.user_id">
                  <form editable-form name="editableForm" onaftersave="updateAlbumname(album.id)">
                  <h3><a href="#/albums/{{album.id}}" editable-text="album.name" ng-model="edit_album.name" onbeforesave="checkName($data)" e-required>{{album.name}}</a></h3>
                  <button type="button" class="btn btn-default" ng-click="editableForm.$show()" ng-show="!editableForm.$visible">
                    Редактировать
                  </button>
                  <!-- buttons to submit / cancel form -->
                  <span ng-show="editableForm.$visible">
                    <button type="submit" class="btn btn-primary" ng-disabled="editableForm.$waiting">
                      Сохранить
                    </button>
                    <button type="button" class="btn btn-default" ng-disabled="editableForm.$waiting" ng-click="editableForm.$cancel()">
                      Отмена
                    </button>
                  </span>
                </form>
                </div>
                <div class="gallery" ng-controller="HotelShow as ctrl">
                  <ng-gallery images="ctrl.images"></ng-gallery>
                </div>
              </div>
            </div>
          </div>

          <div ng-if="hotel.albums.length == 0">
          <h2>Создать фотоальбом</h2>

          <div class="row">
            <div class="col-md-6">
              <form class="simple_form form-horizontal" novalidate="novalidate" id="new_album"  accept-charset="UTF-8">
                <div class="form-group string album_name">
                  <label class="string control-label" for="album_name">Название</label>
                  <input class="string form-control" type="text" ng-model="newAlbum.name" id="album_name" />
                </div>
                <md-button type="submit" ng-click="save()" class="md-raised md-primary" style="margin:0px 0px 0px -15px;">
                  Создать фотоальбом
                </md-button>
               <!--  <input type="submit" name="commit" class="btn btn-lg btn-info" value="Создать фотоальбом" /> -->
            </div>
          </div>
          </div>
        </div>
      </div>
      
      
      
      <h2 ng-if="myuser.id === hotel.user_id" style="margin-left:-15px"><a href="#/edit/{{hotel.id}}">Изменить информацию</a></h2>
      <div class="row">
        <div class="col-md-12">
          <h4>Отзывы и комментарии</h4>
          <div class="reviews" ng-repeat="review in hotel.reviews | orderBy:review.id:!reverse">
            <div class="reviews-wrapper">
              <div class="row">
                <div class="col-md-3 text-center">
                  <h5>{{review.name}}</h5>    
                </div>
                <div class="col-md-9">
                  <h5>{{review.description}}</h5>      
                  <h5>{{review.created_at | timeAgo }}</h5>
                  <h5 class="reviews-wrapper__moderator"><span>Удалить</span> | <span>Ответить</span> | <span>Мне нравится</span></h5>
                </div>
              </div>
            </div>
          </div>
          <div ng-hide="myuser.role == 'own'" class="add-review">
            <form name="reviewnew" class="simple_form form-horizontal" novalidate="novalidate" id="new-review" accept-charset="UTF-8">
              <md-input-container class="md-icon-float md-block">
                <label>Ваше имя</label>
                <input ng-model="newReview.name" type="text">
              </md-input-container>
              <md-input-container class="md-block">
                <label>Ваш комментарий</label>
                <textarea ng-model="newReview.description" rows="5" md-select-on-focus></textarea>
              </md-input-container>
              <md-button type="submit" ng-click="save_review()" class="md-raised md-primary">
                Добавить комментарий
              </md-button>
            </form>
          </div>
        </div>
      </div>
      
    </div>

    <div class="premiuminshow col-md-offset-2 col-md-3 col-xs-12" ng-controller="MainController">
      <h3>Рекомендации:</h3>
      <div class="col-md-12" ng-repeat="premium in ranked_hotels | filter: premiumFilter | orderBy: 'rank' | limitTo:4">
        <a href="#/hotels/{{premium.id}}">
          <div class="premium-main" ng-style="premium.albums.length > 0 ? {'background': 'url({{premium.cover_url}}', 'background-size':'cover'} : {'background':'url(http://www.stat.colostate.edu/statpeople/images/photos/photo_not_available.png)', 'background-size':'cover'}">
          <h2>{{premium.name}}</h2>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>

